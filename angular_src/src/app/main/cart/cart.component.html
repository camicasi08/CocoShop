<main>
        <section class="section section-lg section-shaped pb-250">
            <div class="shape shape-style-1 shape-default">
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            <span></span>
            </div>
           
        <div class="separator separator-bottom separator-skew">
                <svg x="0" y="0" viewBox="0 0 2560 100" preserveAspectRatio="none" version="1.1" xmlns="http://www.w3.org/2000/svg">
                  <polygon class="fill-white" points="2560 0 2560 100 0 100"></polygon>
                </svg>
              </div>
        </section>
        <section class="section section-lg pt-lg-0 mt--200">
        <div class="container pt-lg-md">
                <div class="row justify-content-center">
                    <div class="col-lg-12">
                        <div class="card bg-secondary shadow border-0">
                            <div *ngIf="success; else cart" style="text-align: center">
                                <h1 class="text-success">¡TU PEDIDO HA SIDO REALIZADO CON ÉXITO!</h1>
                                <button class="btn btn-lg btn-outline-default" (click)="navigateBack()">Volver a la tienda</button>
                            </div>
                            <ng-template #cart> 
                                <div class="card-header bg-white pb-5">
                                    <table class="table-striped table-bordered table-hover" style="width:100%">
                                        <thead>
                                            <th>Titulo</th>
                                            <th>Descripción</th>
                                            <th>Precio</th>
                                            <th>Cantidad</th>
                                            <th>Total</th>
                                            <th></th>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let row of cartProducts">
                                                <td>{{row.title}}</td>
                                                <td>{{row.description}}</td>
                                                <td>{{row.price}}</td>
                                                <td>{{row.quantity}}</td>
                                                <td>{{row.total}}</td>
                                                <td style="text-align: center">
                                                    <button type="button" class="btn btn-outline-default  btn-sm my-4" (click)="removeProduct(row._id)">
                                                        <span class="btn-inner--icon"><i class="fa fa-trash"></i></span>
                                                        
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <h3>Total: ${{total}}</h3>
                                    <button type="button" class="btn btn-success  btn-lg my-4" (click)="showInfo()" [disabled]="cartProducts.length == 0">
                                        <span class="btn-inner--icon"><i class="fa fa-money"></i></span>
                                        <span class="btn-inner--text"> Proceder al pago</span>    
                                    </button>
                                </div>
    
                                <div class="card-body px-lg-5 py-lg-5" *ngIf="show">
                                    <form role="form">
                                            <div class="form-group mb-3">
                                                <label>Nombre del comprador</label>
                                                <div class="input-group input-group-alternative">
                                                    <input class="form-control"
                                                        id="name"
                                                        name="name"
                                                        placeholder="Nombre del comprador"
                                                        type="text" 
                                                        (focus)="focus=true"
                                                        (blur)="focus=false"
                                                        [(ngModel)]= "transaction.name"
                                                        required
                                                    >
                                                </div>
                                            </div>
                                            <div class="form-group mb-3">
                                                <label>Email</label>
                                                <div class="input-group input-group-alternative">
                                                    <input class="form-control"
                                                        id="email"
                                                        name="email"
                                                        placeholder="Correo electrónico"
                                                        type="email" 
                                                        
                                                        [(ngModel)]= "transaction.email"
                                                        required
                                                    >
                                                </div>
                                            </div>
                                            <div class="form-group mb-3">
                                                <label>Dirección</label>
                                                <div class="input-group input-group-alternative">
                                                    <input class="form-control"
                                                        id="email"
                                                        name="email"
                                                        placeholder="Dirección"
                                                        type="text"        
                                                        [(ngModel)]= "transaction.address"
                                                        required
                                                    >
                                                </div>
                                            </div>
                                            <button type="button" class="btn btn-warning  btn-lg my-4" [disabled]="validate()" (click)="checkout()">
                                                <span class="btn-inner--icon"><i class="fa fa-cart-arrow-down"></i></span>
                                                <span class="btn-inner--text"> Finalizar Compra</span>    
                                            </button>
                                    </form>
                                </div>
                            </ng-template>
                           
                        </div>
                    
                    </div>
                </div>
            </div>
        </section>
    </main>
              